## Использование

[Скриншоты интерфейса](#интерфейс)

### Опции при создании ТЗ:  

- Просто создайте **новое**, и оно будет создано с последней доступной схемой (схема — это поля, названия, другими словами — структура документа).  
- Вы можете создать **новую версию** существующего ТЗ (сделать форк):  
  - Применить **схему родительской** версии ТЗ.  
  - Применить **последнюю доступную схему**.  
    - Новые поля в схеме в этом случае будут пустыми.  
    - Если какое-то поле было удалено из схемы, оно также будет удалено в новой версии.  

Все версии назначений полностью независимы и не зависят друг от друга.  
Они хранят свою схему прямо в документе, поэтому всегда содержат всю информацию.  

Не путайте два понятия:  
- **Версионность данных** (это означает, что есть две версии документа с одинаковой структурой (схемой), но с разными данными).  
- **Версионность схемы** (это означает, что есть два документа, основанных на двух разных структурах).  

Если просто добавить еще одно изображение, событие или блок (что бы это ни было в будущем), схема останется той же,  
потому что, например, `Blocks` — это поле `list`, и новый элемент просто добавится в список.<br>
Добавление нового элемента в список не ведет к изменению схемы, это как был список, так и остался.
А вот добавление нового поля — ведет к изменению схемы.  

### Режимы просмотра ТЗ:  
- Просмотр ТЗ (просмотр по assignment_id)
- Просмотр последней версии ТЗ (aka просмотр по group_id)  

Каждое вновь созданное ТЗ (не версия, и именно полностью новое ТЗ) получает свой `group_id`.<br>
Тогда, когда вы создадите форк от ТЗ, он будет создан с тем же `group_id`.<br>
В групповом режиме всегда будет отображаться только последняя версия, со статусом выше `development`

### Список event'ов и данные в event'ах:  
Список ивентов и их состав можно изменить в `app/config/events_mapper.yaml`:<br>
- `key`: обязательное
- `value`: обязательное
- `comment`: необязательное

Любое изменение влечет за собой изменение схемы, т.о. только вновьсозданные ТЗ (либо версии ТЗ с применнеием новой схемы) будут содержать изменения.<br>
Старые ТЗ будут содержать старый набор ивентов и данных в ивентах.

### Значения по умолчанию для ТЗ:  
Значения по-умолчанию, подставляемые при создании нового ТЗ можно изменить в Pydantic-моделях `app/core/models/assignment.py`.  
Эти изменения порождают изменение схемы ТЗ.

Любые изменения можно вносить на лету, перезапуск приложения не требуется.  
Если изменения почему-то не применились, перезапустите докер контейнер

### Изменения схемы:  

Производятся путем изменения Pydantic-модели.  
Предыдущие документы будут сохранены и отображаться со схемой, актуальной в момент их создания.  

## Интерфейс

![edit_1.png](/doc/images/edit_1.png)
![list_1.png](/doc/images/list_1.png)
![view_1.png](/doc/images/view_1.png)
![user_1.png](/doc/images/user_1.png)